{"ast":null,"code":"var _jsxFileName = \"/Users/plsingh/Downloads/archive-19Sep-Sunday/src/pages/WorkRequest/List/View/Row/index.jsx\",\n    _s = $RefreshSig$();\n\nimport { makeStyles } from \"@material-ui/styles\";\nimport moment from \"moment\";\nimport Checkbox from '@material-ui/core/Checkbox';\nimport DateIcon from \"../../../../../assets/Icons/DateIcon\";\nimport SettingsIcon from \"../../../../../assets/Icons/SettingsIcon\";\nimport WorkRequestStatus from \"../../../../../components/WorkRequestStatus\";\nimport EAMMenu from \"../../../../../components/EAMMenu\";\nimport IconButton from \"../../../../../components/IconButton\";\nimport MenuIcon from \"../../../../../assets/Icons/MenuIcon\";\nimport { useCallback, useMemo } from \"react\";\nimport { useConfirmationDialog } from \"../../../../../components/EAMConfirmDialog\";\nimport { shallowEqual, useDispatch, useSelector } from \"react-redux\";\nimport { selectors } from \"../../../../../reducers\";\nimport actions from \"../../../../../actions\";\nimport { ACTION_LIST_MAP } from \"../../util\";\nimport { useHistory } from \"react-router-dom\";\nimport { useRouteMatch } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst useStyles = makeStyles(theme => ({\n  card: {\n    marginTop: 10,\n    margin: '0px 12px 10px 12px',\n    padding: '12px 12px 20px 11px',\n    background: '#FFFFFF',\n    border: '1px solid #E9EBEF',\n    boxSizing: 'border-box',\n    boxShadow: '0px 2px 2px rgba(0, 0, 0, 0.05)',\n    borderRadius: 4\n  },\n  checkbox: {\n    padding: 0,\n    '& > span': {\n      paddingRight: 10\n    },\n    '& > span > input': {\n      paddingRight: 12\n    }\n  },\n  main: {\n    minHeight: 40,\n    display: 'flex',\n    flexDirection: 'row',\n    justifyContent: 'space-between'\n  },\n  footer: {\n    paddingTop: 12,\n    display: 'flex',\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    '& > div': {\n      display: 'flex',\n      flexDirection: 'row',\n      alignItems: 'center'\n    }\n  },\n  number: {\n    fontSize: 13,\n    // color: '#7D8597',\n    color: '#1616169e',\n    paddingRight: 2,\n    fontWeight: 500,\n    borderRight: '1px solid #7D8597'\n  },\n  desc: {\n    fontSize: 14,\n    fontWeight: 400,\n    color: '#000000',\n    paddingLeft: 5\n  },\n  itemText: {\n    marginLeft: 5,\n    color: '#5C677D',\n    fontWeight: 600,\n    fontSize: 12\n  },\n  leftContainer: {}\n}));\nconst emptySet = [];\nexport default function Row({\n  isSelectable,\n  value,\n  onClick\n}) {\n  _s();\n\n  const match = useRouteMatch();\n  const {\n    groupBy\n  } = match.params;\n  const {\n    workrequestNoout,\n    wrDesc,\n    date,\n    equipmentCodeout,\n    statusout,\n    Priorityout\n  } = value;\n  const isItemSelected = useSelector(state => selectors.isWRItemSelected(state, groupBy, workrequestNoout));\n  const formattedDate = moment(date).format(\"DD/MM/YYYY\");\n  const dispatch = useDispatch();\n  const history = useHistory();\n  const priorityColor = useSelector(state => selectors.workRequestPriorityColor(state, Priorityout));\n  const allowedActions = useSelector(state => {\n    const {\n      taskStatus\n    } = selectors.workRequestListObj(state, groupBy);\n    return selectors.workRequestListActions(state, taskStatus) || emptySet;\n  }, shallowEqual);\n  const classes = useStyles(Priorityout);\n  const {\n    getConfirmation\n  } = useConfirmationDialog();\n  const handleItemSelectToggle = useCallback(event => {\n    event.stopPropagation();\n    dispatch(actions.workRequestV2.list.toggleItemSelect(groupBy, workrequestNoout));\n  }, [dispatch, groupBy, workrequestNoout]);\n\n  const handleItemClick = () => {\n    onClick(workrequestNoout);\n  };\n\n  const handleMenuItemClick = useCallback(async id => {\n    if ([\"AUT\", \"REJ\", \"AUTCRWO\", \"FRWD\", \"CNL\", \"MVPL\", \"CLS\", \"REV\"].indexOf(id) !== -1) {\n      const confirmed = await getConfirmation({\n        title: ACTION_LIST_MAP[id].title,\n        message: ACTION_LIST_MAP[id].message\n      });\n\n      if (confirmed) {\n        dispatch(actions.workRequestV2.list.triggerAction({\n          groupBy,\n          actionFlag: id,\n          workrequestNo: workrequestNoout\n        }));\n      }\n    } else if (id === 'EDT') {\n      history.push(`/workRequest/manage/${workrequestNoout}`);\n    } else if (id === 'CPY') {\n      history.push(`/workRequest/manage/copy/${workrequestNoout}`);\n    }\n  }, [dispatch, getConfirmation, groupBy, history, workrequestNoout]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: classes.card,\n    style: {\n      borderLeft: `5px solid ${priorityColor}`\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: classes.main,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: classes.leftContainer,\n        children: [isSelectable ? /*#__PURE__*/_jsxDEV(Checkbox, {\n          className: classes.checkbox,\n          checked: !!isItemSelected,\n          onChange: handleItemSelectToggle,\n          color: \"primary\",\n          inputProps: {\n            'aria-label': 'secondary checkbox'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 28\n        }, this) : null, /*#__PURE__*/_jsxDEV(\"span\", {\n          onClick: handleItemClick,\n          className: classes.number,\n          children: workrequestNoout\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 134,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          onClick: handleItemClick,\n          className: classes.desc,\n          children: wrDesc\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 135,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 9\n      }, this), (allowedActions === null || allowedActions === void 0 ? void 0 : allowedActions.length) ? /*#__PURE__*/_jsxDEV(EAMMenu, {\n        id: workrequestNoout,\n        onMenuItemClick: handleMenuItemClick,\n        label: /*#__PURE__*/_jsxDEV(IconButton, {\n          children: /*#__PURE__*/_jsxDEV(MenuIcon, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 141,\n            columnNumber: 32\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 141,\n          columnNumber: 20\n        }, this),\n        value: allowedActions\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 11\n      }, this) : null]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      onClick: handleItemClick,\n      className: classes.footer,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(DateIcon, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 147,\n          columnNumber: 14\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: classes.itemText,\n          children: formattedDate\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 147,\n          columnNumber: 26\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(SettingsIcon, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 148,\n          columnNumber: 14\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: classes.itemText,\n          children: `#${equipmentCodeout}`\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 148,\n          columnNumber: 30\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(WorkRequestStatus, {\n          value: statusout\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 149,\n          columnNumber: 14\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 121,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Row, \"Vlsrytu7KVGCymuDHD3gNjMi868=\", false, function () {\n  return [useRouteMatch, useSelector, useDispatch, useHistory, useSelector, useSelector, useStyles, useConfirmationDialog];\n});\n\n_c = Row;\n\nvar _c;\n\n$RefreshReg$(_c, \"Row\");","map":{"version":3,"sources":["/Users/plsingh/Downloads/archive-19Sep-Sunday/src/pages/WorkRequest/List/View/Row/index.jsx"],"names":["makeStyles","moment","Checkbox","DateIcon","SettingsIcon","WorkRequestStatus","EAMMenu","IconButton","MenuIcon","useCallback","useMemo","useConfirmationDialog","shallowEqual","useDispatch","useSelector","selectors","actions","ACTION_LIST_MAP","useHistory","useRouteMatch","useStyles","theme","card","marginTop","margin","padding","background","border","boxSizing","boxShadow","borderRadius","checkbox","paddingRight","main","minHeight","display","flexDirection","justifyContent","footer","paddingTop","alignItems","number","fontSize","color","fontWeight","borderRight","desc","paddingLeft","itemText","marginLeft","leftContainer","emptySet","Row","isSelectable","value","onClick","match","groupBy","params","workrequestNoout","wrDesc","date","equipmentCodeout","statusout","Priorityout","isItemSelected","state","isWRItemSelected","formattedDate","format","dispatch","history","priorityColor","workRequestPriorityColor","allowedActions","taskStatus","workRequestListObj","workRequestListActions","classes","getConfirmation","handleItemSelectToggle","event","stopPropagation","workRequestV2","list","toggleItemSelect","handleItemClick","handleMenuItemClick","id","indexOf","confirmed","title","message","triggerAction","actionFlag","workrequestNo","push","borderLeft","length"],"mappings":";;;AAAA,SAASA,UAAT,QAA2B,qBAA3B;AACA,OAAOC,MAAP,MAAmB,QAAnB;AACA,OAAOC,QAAP,MAAqB,4BAArB;AAEA,OAAOC,QAAP,MAAqB,sCAArB;AACA,OAAOC,YAAP,MAAyB,0CAAzB;AACA,OAAOC,iBAAP,MAA8B,6CAA9B;AACA,OAAOC,OAAP,MAAoB,mCAApB;AACA,OAAOC,UAAP,MAAuB,sCAAvB;AACA,OAAOC,QAAP,MAAqB,sCAArB;AACA,SAASC,WAAT,EAAsBC,OAAtB,QAAqC,OAArC;AACA,SAASC,qBAAT,QAAsC,4CAAtC;AACA,SAASC,YAAT,EAAuBC,WAAvB,EAAoCC,WAApC,QAAuD,aAAvD;AACA,SAASC,SAAT,QAA0B,yBAA1B;AACA,OAAOC,OAAP,MAAoB,wBAApB;AACA,SAASC,eAAT,QAAgC,YAAhC;AACA,SAASC,UAAT,QAA2B,kBAA3B;AACA,SAASC,aAAT,QAA8B,kBAA9B;;AAGA,MAAMC,SAAS,GAAGpB,UAAU,CAACqB,KAAK,KAAK;AACrCC,EAAAA,IAAI,EAAE;AACJC,IAAAA,SAAS,EAAE,EADP;AAEJC,IAAAA,MAAM,EAAE,oBAFJ;AAGJC,IAAAA,OAAO,EAAE,qBAHL;AAIJC,IAAAA,UAAU,EAAE,SAJR;AAKJC,IAAAA,MAAM,EAAE,mBALJ;AAMJC,IAAAA,SAAS,EAAE,YANP;AAOJC,IAAAA,SAAS,EAAE,iCAPP;AAQJC,IAAAA,YAAY,EAAE;AARV,GAD+B;AAWrCC,EAAAA,QAAQ,EAAE;AACRN,IAAAA,OAAO,EAAE,CADD;AAER,gBAAY;AACVO,MAAAA,YAAY,EAAE;AADJ,KAFJ;AAKR,wBAAoB;AAClBA,MAAAA,YAAY,EAAE;AADI;AALZ,GAX2B;AAoBrCC,EAAAA,IAAI,EAAE;AACJC,IAAAA,SAAS,EAAE,EADP;AAEJC,IAAAA,OAAO,EAAE,MAFL;AAGJC,IAAAA,aAAa,EAAE,KAHX;AAIJC,IAAAA,cAAc,EAAE;AAJZ,GApB+B;AA0BrCC,EAAAA,MAAM,EAAE;AACNC,IAAAA,UAAU,EAAE,EADN;AAENJ,IAAAA,OAAO,EAAE,MAFH;AAGNC,IAAAA,aAAa,EAAE,KAHT;AAINC,IAAAA,cAAc,EAAE,eAJV;AAKN,eAAW;AACTF,MAAAA,OAAO,EAAE,MADA;AAETC,MAAAA,aAAa,EAAE,KAFN;AAGTI,MAAAA,UAAU,EAAE;AAHH;AALL,GA1B6B;AAqCrCC,EAAAA,MAAM,EAAE;AACNC,IAAAA,QAAQ,EAAE,EADJ;AAEN;AACAC,IAAAA,KAAK,EAAE,WAHD;AAINX,IAAAA,YAAY,EAAE,CAJR;AAKNY,IAAAA,UAAU,EAAE,GALN;AAMNC,IAAAA,WAAW,EAAE;AANP,GArC6B;AA6CrCC,EAAAA,IAAI,EAAE;AACJJ,IAAAA,QAAQ,EAAE,EADN;AAEJE,IAAAA,UAAU,EAAE,GAFR;AAGJD,IAAAA,KAAK,EAAE,SAHH;AAIJI,IAAAA,WAAW,EAAE;AAJT,GA7C+B;AAmDrCC,EAAAA,QAAQ,EAAE;AACRC,IAAAA,UAAU,EAAE,CADJ;AAERN,IAAAA,KAAK,EAAE,SAFC;AAGRC,IAAAA,UAAU,EAAE,GAHJ;AAIRF,IAAAA,QAAQ,EAAE;AAJF,GAnD2B;AAyDrCQ,EAAAA,aAAa,EAAE;AAzDsB,CAAL,CAAN,CAA5B;AA6DA,MAAMC,QAAQ,GAAG,EAAjB;AACA,eAAe,SAASC,GAAT,CAAa;AAAEC,EAAAA,YAAF;AAAgBC,EAAAA,KAAhB;AAAuBC,EAAAA;AAAvB,CAAb,EAA+C;AAAA;;AAC5D,QAAMC,KAAK,GAAGrC,aAAa,EAA3B;AACA,QAAM;AAAEsC,IAAAA;AAAF,MAAcD,KAAK,CAACE,MAA1B;AACA,QAAM;AAAEC,IAAAA,gBAAF;AAAoBC,IAAAA,MAApB;AAA4BC,IAAAA,IAA5B;AAAkCC,IAAAA,gBAAlC;AAAoDC,IAAAA,SAApD;AAA+DC,IAAAA;AAA/D,MAA+EV,KAArF;AAEA,QAAMW,cAAc,GAAGnD,WAAW,CAACoD,KAAK,IAAInD,SAAS,CAACoD,gBAAV,CAA2BD,KAA3B,EAAkCT,OAAlC,EAA2CE,gBAA3C,CAAV,CAAlC;AACA,QAAMS,aAAa,GAAGnE,MAAM,CAAC4D,IAAD,CAAN,CAAaQ,MAAb,CAAoB,YAApB,CAAtB;AACA,QAAMC,QAAQ,GAAGzD,WAAW,EAA5B;AACA,QAAM0D,OAAO,GAAGrD,UAAU,EAA1B;AACA,QAAMsD,aAAa,GAAG1D,WAAW,CAACoD,KAAK,IAAInD,SAAS,CAAC0D,wBAAV,CAAmCP,KAAnC,EAA0CF,WAA1C,CAAV,CAAjC;AACA,QAAMU,cAAc,GAAG5D,WAAW,CAACoD,KAAK,IAAI;AAC1C,UAAM;AAAES,MAAAA;AAAF,QAAiB5D,SAAS,CAAC6D,kBAAV,CAA6BV,KAA7B,EAAoCT,OAApC,CAAvB;AACA,WAAO1C,SAAS,CAAC8D,sBAAV,CAAiCX,KAAjC,EAAwCS,UAAxC,KAAuDxB,QAA9D;AACD,GAHiC,EAG/BvC,YAH+B,CAAlC;AAIA,QAAMkE,OAAO,GAAG1D,SAAS,CAAC4C,WAAD,CAAzB;AACA,QAAM;AAAEe,IAAAA;AAAF,MAAsBpE,qBAAqB,EAAjD;AACA,QAAMqE,sBAAsB,GAAGvE,WAAW,CAAEwE,KAAD,IAAW;AACpDA,IAAAA,KAAK,CAACC,eAAN;AACAZ,IAAAA,QAAQ,CAACtD,OAAO,CAACmE,aAAR,CAAsBC,IAAtB,CAA2BC,gBAA3B,CAA4C5B,OAA5C,EAAqDE,gBAArD,CAAD,CAAR;AACD,GAHyC,EAGvC,CAACW,QAAD,EAAWb,OAAX,EAAoBE,gBAApB,CAHuC,CAA1C;;AAKA,QAAM2B,eAAe,GAAG,MAAM;AAAE/B,IAAAA,OAAO,CAACI,gBAAD,CAAP;AAA2B,GAA3D;;AACA,QAAM4B,mBAAmB,GAAG9E,WAAW,CAAC,MAAO+E,EAAP,IAAc;AACpD,QAAI,CAAC,KAAD,EAAQ,KAAR,EAAe,SAAf,EAA0B,MAA1B,EAAkC,KAAlC,EAAyC,MAAzC,EAAiD,KAAjD,EAAwD,KAAxD,EAA+DC,OAA/D,CAAuED,EAAvE,MAA+E,CAAC,CAApF,EAAuF;AACrF,YAAME,SAAS,GAAG,MAAMX,eAAe,CAAC;AACtCY,QAAAA,KAAK,EAAE1E,eAAe,CAACuE,EAAD,CAAf,CAAoBG,KADW;AAEtCC,QAAAA,OAAO,EAAE3E,eAAe,CAACuE,EAAD,CAAf,CAAoBI;AAFS,OAAD,CAAvC;;AAIA,UAAIF,SAAJ,EAAe;AACbpB,QAAAA,QAAQ,CAACtD,OAAO,CAACmE,aAAR,CAAsBC,IAAtB,CAA2BS,aAA3B,CAAyC;AAAEpC,UAAAA,OAAF;AAAWqC,UAAAA,UAAU,EAAEN,EAAvB;AAA2BO,UAAAA,aAAa,EAAEpC;AAA1C,SAAzC,CAAD,CAAR;AACD;AACF,KARD,MAQO,IAAI6B,EAAE,KAAK,KAAX,EAAkB;AACvBjB,MAAAA,OAAO,CAACyB,IAAR,CAAc,uBAAsBrC,gBAAiB,EAArD;AACD,KAFM,MAEA,IAAI6B,EAAE,KAAK,KAAX,EAAkB;AACvBjB,MAAAA,OAAO,CAACyB,IAAR,CAAc,4BAA2BrC,gBAAiB,EAA1D;AACD;AACF,GAdsC,EAcpC,CAACW,QAAD,EAAWS,eAAX,EAA4BtB,OAA5B,EAAqCc,OAArC,EAA8CZ,gBAA9C,CAdoC,CAAvC;AAeA,sBACE;AACE,IAAA,SAAS,EAAEmB,OAAO,CAACxD,IADrB;AAEE,IAAA,KAAK,EAAE;AAAE2E,MAAAA,UAAU,EAAG,aAAYzB,aAAc;AAAzC,KAFT;AAAA,4BAIE;AAAK,MAAA,SAAS,EAAEM,OAAO,CAAC7C,IAAxB;AAAA,8BACE;AAAK,QAAA,SAAS,EAAE6C,OAAO,CAAC5B,aAAxB;AAAA,mBACGG,YAAY,gBAAI,QAAC,QAAD;AACf,UAAA,SAAS,EAAEyB,OAAO,CAAC/C,QADJ;AAEf,UAAA,OAAO,EAAE,CAAC,CAACkC,cAFI;AAGf,UAAA,QAAQ,EAAEe,sBAHK;AAIf,UAAA,KAAK,EAAC,SAJS;AAKf,UAAA,UAAU,EAAE;AAAE,0BAAc;AAAhB;AALG;AAAA;AAAA;AAAA;AAAA,gBAAJ,GAMP,IAPR,eAQE;AAAM,UAAA,OAAO,EAAEM,eAAf;AAAgC,UAAA,SAAS,EAAER,OAAO,CAACrC,MAAnD;AAAA,oBAA4DkB;AAA5D;AAAA;AAAA;AAAA;AAAA,gBARF,eASE;AAAM,UAAA,OAAO,EAAE2B,eAAf;AAAgC,UAAA,SAAS,EAAER,OAAO,CAAChC,IAAnD;AAAA,oBAA0Dc;AAA1D;AAAA;AAAA;AAAA;AAAA,gBATF;AAAA;AAAA;AAAA;AAAA;AAAA,cADF,EAYG,CAAAc,cAAc,SAAd,IAAAA,cAAc,WAAd,YAAAA,cAAc,CAAEwB,MAAhB,iBACC,QAAC,OAAD;AACE,QAAA,EAAE,EAAEvC,gBADN;AAEE,QAAA,eAAe,EAAE4B,mBAFnB;AAGE,QAAA,KAAK,eAAE,QAAC,UAAD;AAAA,iCAAY,QAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAZ;AAAA;AAAA;AAAA;AAAA,gBAHT;AAIE,QAAA,KAAK,EAAEb;AAJT;AAAA;AAAA;AAAA;AAAA,cADD,GAOG,IAnBN;AAAA;AAAA;AAAA;AAAA;AAAA,YAJF,eAyBE;AAAK,MAAA,OAAO,EAAEY,eAAd;AAA+B,MAAA,SAAS,EAAER,OAAO,CAACxC,MAAlD;AAAA,8BACE;AAAA,gCAAK,QAAC,QAAD;AAAA;AAAA;AAAA;AAAA,gBAAL,eAAiB;AAAM,UAAA,SAAS,EAAEwC,OAAO,CAAC9B,QAAzB;AAAA,oBAAoCoB;AAApC;AAAA;AAAA;AAAA;AAAA,gBAAjB;AAAA;AAAA;AAAA;AAAA;AAAA,cADF,eAEE;AAAA,gCAAK,QAAC,YAAD;AAAA;AAAA;AAAA;AAAA,gBAAL,eAAqB;AAAM,UAAA,SAAS,EAAEU,OAAO,CAAC9B,QAAzB;AAAA,oBAAqC,IAAGc,gBAAiB;AAAzD;AAAA;AAAA;AAAA;AAAA,gBAArB;AAAA;AAAA;AAAA;AAAA;AAAA,cAFF,eAGE;AAAA,+BAAK,QAAC,iBAAD;AAAmB,UAAA,KAAK,EAAEC;AAA1B;AAAA;AAAA;AAAA;AAAA;AAAL;AAAA;AAAA;AAAA;AAAA,cAHF;AAAA;AAAA;AAAA;AAAA;AAAA,YAzBF;AAAA;AAAA;AAAA;AAAA;AAAA,UADF;AAiCD;;GAtEuBX,G;UACRjC,a,EAISL,W,EAEND,W,EACDK,U,EACMJ,W,EACCA,W,EAIPM,S,EACYT,qB;;;KAfNyC,G","sourcesContent":["import { makeStyles } from \"@material-ui/styles\"\nimport moment from \"moment\";\nimport Checkbox from '@material-ui/core/Checkbox';\n\nimport DateIcon from \"../../../../../assets/Icons/DateIcon\";\nimport SettingsIcon from \"../../../../../assets/Icons/SettingsIcon\";\nimport WorkRequestStatus from \"../../../../../components/WorkRequestStatus\";\nimport EAMMenu from \"../../../../../components/EAMMenu\";\nimport IconButton from \"../../../../../components/IconButton\";\nimport MenuIcon from \"../../../../../assets/Icons/MenuIcon\";\nimport { useCallback, useMemo } from \"react\";\nimport { useConfirmationDialog } from \"../../../../../components/EAMConfirmDialog\";\nimport { shallowEqual, useDispatch, useSelector } from \"react-redux\";\nimport { selectors } from \"../../../../../reducers\";\nimport actions from \"../../../../../actions\";\nimport { ACTION_LIST_MAP } from \"../../util\";\nimport { useHistory } from \"react-router-dom\";\nimport { useRouteMatch } from \"react-router-dom\";\n\n\nconst useStyles = makeStyles(theme => ({\n  card: {\n    marginTop: 10,\n    margin: '0px 12px 10px 12px',\n    padding: '12px 12px 20px 11px',\n    background: '#FFFFFF',\n    border: '1px solid #E9EBEF',\n    boxSizing: 'border-box',\n    boxShadow: '0px 2px 2px rgba(0, 0, 0, 0.05)',\n    borderRadius: 4,\n  },\n  checkbox: {\n    padding: 0,\n    '& > span': {\n      paddingRight: 10,\n    },\n    '& > span > input': {\n      paddingRight: 12,\n    }\n  },\n  main: {\n    minHeight: 40,\n    display: 'flex',\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n  },\n  footer: {\n    paddingTop: 12,\n    display: 'flex',\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    '& > div': {\n      display: 'flex',\n      flexDirection: 'row',\n      alignItems: 'center',\n    }\n  },\n  number: {\n    fontSize: 13,\n    // color: '#7D8597',\n    color: '#1616169e',\n    paddingRight: 2,\n    fontWeight: 500,\n    borderRight: '1px solid #7D8597',\n  },\n  desc: {\n    fontSize: 14,\n    fontWeight: 400,\n    color: '#000000',\n    paddingLeft: 5,\n  },\n  itemText: {\n    marginLeft: 5,\n    color: '#5C677D',\n    fontWeight: 600,\n    fontSize: 12,\n  },\n  leftContainer: {\n\n  }\n}))\nconst emptySet = [];\nexport default function Row({ isSelectable, value, onClick }) {\n  const match = useRouteMatch();\n  const { groupBy } = match.params;\n  const { workrequestNoout, wrDesc, date, equipmentCodeout, statusout, Priorityout } = value;\n\n  const isItemSelected = useSelector(state => selectors.isWRItemSelected(state, groupBy, workrequestNoout))\n  const formattedDate = moment(date).format(\"DD/MM/YYYY\");\n  const dispatch = useDispatch();\n  const history = useHistory();\n  const priorityColor = useSelector(state => selectors.workRequestPriorityColor(state, Priorityout));\n  const allowedActions = useSelector(state => {\n    const { taskStatus } = selectors.workRequestListObj(state, groupBy);\n    return selectors.workRequestListActions(state, taskStatus) || emptySet;\n  }, shallowEqual)\n  const classes = useStyles(Priorityout);\n  const { getConfirmation } = useConfirmationDialog();\n  const handleItemSelectToggle = useCallback((event) => {\n    event.stopPropagation()\n    dispatch(actions.workRequestV2.list.toggleItemSelect(groupBy, workrequestNoout))\n  }, [dispatch, groupBy, workrequestNoout])\n\n  const handleItemClick = () => { onClick(workrequestNoout) };\n  const handleMenuItemClick = useCallback(async (id) => {\n    if ([\"AUT\", \"REJ\", \"AUTCRWO\", \"FRWD\", \"CNL\", \"MVPL\", \"CLS\", \"REV\"].indexOf(id) !== -1) {\n      const confirmed = await getConfirmation({\n        title: ACTION_LIST_MAP[id].title,\n        message: ACTION_LIST_MAP[id].message,\n      });\n      if (confirmed) {\n        dispatch(actions.workRequestV2.list.triggerAction({ groupBy, actionFlag: id, workrequestNo: workrequestNoout }))\n      }\n    } else if (id === 'EDT') {\n      history.push(`/workRequest/manage/${workrequestNoout}`)\n    } else if (id === 'CPY') {\n      history.push(`/workRequest/manage/copy/${workrequestNoout}`)\n    }\n  }, [dispatch, getConfirmation, groupBy, history, workrequestNoout])\n  return (\n    <div\n      className={classes.card}\n      style={{ borderLeft: `5px solid ${priorityColor}` }}\n    >\n      <div className={classes.main} >\n        <div className={classes.leftContainer} >\n          {isSelectable ? (<Checkbox\n            className={classes.checkbox}\n            checked={!!isItemSelected}\n            onChange={handleItemSelectToggle}\n            color=\"primary\"\n            inputProps={{ 'aria-label': 'secondary checkbox' }}\n          />) : null}\n          <span onClick={handleItemClick} className={classes.number}>{workrequestNoout}</span>\n          <span onClick={handleItemClick} className={classes.desc}>{wrDesc}</span>\n        </div>\n        {allowedActions?.length ? (\n          <EAMMenu\n            id={workrequestNoout}\n            onMenuItemClick={handleMenuItemClick}\n            label={<IconButton><MenuIcon /></IconButton>}\n            value={allowedActions}\n          />\n        ) : null}\n      </div>\n      <div onClick={handleItemClick} className={classes.footer}>\n        <div><DateIcon /><span className={classes.itemText}>{formattedDate}</span></div>\n        <div><SettingsIcon /><span className={classes.itemText}>{`#${equipmentCodeout}`}</span></div>\n        <div><WorkRequestStatus value={statusout}></WorkRequestStatus></div>\n      </div>\n    </div>\n  )\n}"]},"metadata":{},"sourceType":"module"}