{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _extends from \"@babel/runtime/helpers/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/objectWithoutPropertiesLoose\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport isAbsoluteUrl from 'axios/lib/helpers/isAbsoluteURL';\nvar responseTypes = ['arraybuffer', 'blob', 'formData', 'json', 'text', null];\n\nvar getResponseData = function getResponseData(response, responseType) {\n  if (responseTypes.indexOf(responseType) === -1) {\n    throw new Error(\"responseType must be one of the following: 'arraybuffer', 'blob', 'formData', 'json', 'text', null\");\n  }\n\n  if (responseType === null) {\n    return Promise.resolve(null);\n  }\n\n  return response[responseType]();\n};\n\nvar prepareSuccessPayload = function prepareSuccessPayload(response) {\n  return response.data;\n};\n\nvar DummyAbortController = /*#__PURE__*/function () {\n  function DummyAbortController() {}\n\n  var _proto = DummyAbortController.prototype;\n  /* eslint-disable-next-line class-methods-use-this */\n\n  _proto.abort = function abort() {};\n\n  return DummyAbortController;\n}();\n\nexport var createDriver = function createDriver(fetchInstance, _temp) {\n  var _ref = _temp === void 0 ? {} : _temp,\n      _ref$baseURL = _ref.baseURL,\n      baseURL = _ref$baseURL === void 0 ? '' : _ref$baseURL,\n      _ref$AbortController = _ref.AbortController,\n      AbortController = _ref$AbortController === void 0 ? DummyAbortController : _ref$AbortController;\n\n  return {\n    requestInstance: fetchInstance,\n    getAbortSource: function getAbortSource() {\n      return new AbortController();\n    },\n    abortRequest: function abortRequest(abortSource) {\n      abortSource.abort();\n    },\n    sendRequest: function () {\n      var _sendRequest = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(_ref2, abortSource) {\n        var url, _ref2$responseType, responseType, requestConfig, response;\n\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                url = _ref2.url, _ref2$responseType = _ref2.responseType, responseType = _ref2$responseType === void 0 ? 'json' : _ref2$responseType, requestConfig = _objectWithoutPropertiesLoose(_ref2, [\"url\", \"responseType\"]);\n                _context.next = 3;\n                return fetchInstance(isAbsoluteUrl(url) ? url : baseURL + url, _extends({\n                  signal: abortSource.signal\n                }, requestConfig));\n\n              case 3:\n                response = _context.sent;\n\n                if (response.ok) {\n                  _context.next = 14;\n                  break;\n                }\n\n                _context.prev = 5;\n                _context.next = 8;\n                return response.json();\n\n              case 8:\n                response.data = _context.sent;\n                _context.next = 13;\n                break;\n\n              case 11:\n                _context.prev = 11;\n                _context.t0 = _context[\"catch\"](5);\n\n              case 13:\n                throw response;\n\n              case 14:\n                _context.next = 16;\n                return getResponseData(response, responseType);\n\n              case 16:\n                response.data = _context.sent;\n                return _context.abrupt(\"return\", response);\n\n              case 18:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this, [[5, 11]]);\n      }));\n\n      return function sendRequest(_x, _x2) {\n        return _sendRequest.apply(this, arguments);\n      };\n    }(),\n    getSuccessPayload: function getSuccessPayload(response) {\n      if (Array.isArray(response)) {\n        return response.map(prepareSuccessPayload);\n      }\n\n      return prepareSuccessPayload(response);\n    },\n    getErrorPayload: function getErrorPayload(error) {\n      return error;\n    }\n  };\n};","map":{"version":3,"sources":["/Users/plsingh/Downloads/archive-19Sep-Sunday/node_modules/redux-saga-requests-fetch/es/fetch-api-driver.js"],"names":["_regeneratorRuntime","_extends","_objectWithoutPropertiesLoose","_asyncToGenerator","isAbsoluteUrl","responseTypes","getResponseData","response","responseType","indexOf","Error","Promise","resolve","prepareSuccessPayload","data","DummyAbortController","_proto","prototype","abort","createDriver","fetchInstance","_temp","_ref","_ref$baseURL","baseURL","_ref$AbortController","AbortController","requestInstance","getAbortSource","abortRequest","abortSource","sendRequest","_sendRequest","mark","_callee","_ref2","url","_ref2$responseType","requestConfig","wrap","_callee$","_context","prev","next","signal","sent","ok","json","t0","abrupt","stop","_x","_x2","apply","arguments","getSuccessPayload","Array","isArray","map","getErrorPayload","error"],"mappings":"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","sourcesContent":["import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _extends from \"@babel/runtime/helpers/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/objectWithoutPropertiesLoose\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport isAbsoluteUrl from 'axios/lib/helpers/isAbsoluteURL';\nvar responseTypes = ['arraybuffer', 'blob', 'formData', 'json', 'text', null];\n\nvar getResponseData = function getResponseData(response, responseType) {\n  if (responseTypes.indexOf(responseType) === -1) {\n    throw new Error(\"responseType must be one of the following: 'arraybuffer', 'blob', 'formData', 'json', 'text', null\");\n  }\n\n  if (responseType === null) {\n    return Promise.resolve(null);\n  }\n\n  return response[responseType]();\n};\n\nvar prepareSuccessPayload = function prepareSuccessPayload(response) {\n  return response.data;\n};\n\nvar DummyAbortController =\n/*#__PURE__*/\nfunction () {\n  function DummyAbortController() {}\n\n  var _proto = DummyAbortController.prototype;\n\n  /* eslint-disable-next-line class-methods-use-this */\n  _proto.abort = function abort() {};\n\n  return DummyAbortController;\n}();\n\nexport var createDriver = function createDriver(fetchInstance, _temp) {\n  var _ref = _temp === void 0 ? {} : _temp,\n      _ref$baseURL = _ref.baseURL,\n      baseURL = _ref$baseURL === void 0 ? '' : _ref$baseURL,\n      _ref$AbortController = _ref.AbortController,\n      AbortController = _ref$AbortController === void 0 ? DummyAbortController : _ref$AbortController;\n\n  return {\n    requestInstance: fetchInstance,\n    getAbortSource: function getAbortSource() {\n      return new AbortController();\n    },\n    abortRequest: function abortRequest(abortSource) {\n      abortSource.abort();\n    },\n    sendRequest: function () {\n      var _sendRequest = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee(_ref2, abortSource) {\n        var url, _ref2$responseType, responseType, requestConfig, response;\n\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                url = _ref2.url, _ref2$responseType = _ref2.responseType, responseType = _ref2$responseType === void 0 ? 'json' : _ref2$responseType, requestConfig = _objectWithoutPropertiesLoose(_ref2, [\"url\", \"responseType\"]);\n                _context.next = 3;\n                return fetchInstance(isAbsoluteUrl(url) ? url : baseURL + url, _extends({\n                  signal: abortSource.signal\n                }, requestConfig));\n\n              case 3:\n                response = _context.sent;\n\n                if (response.ok) {\n                  _context.next = 14;\n                  break;\n                }\n\n                _context.prev = 5;\n                _context.next = 8;\n                return response.json();\n\n              case 8:\n                response.data = _context.sent;\n                _context.next = 13;\n                break;\n\n              case 11:\n                _context.prev = 11;\n                _context.t0 = _context[\"catch\"](5);\n\n              case 13:\n                throw response;\n\n              case 14:\n                _context.next = 16;\n                return getResponseData(response, responseType);\n\n              case 16:\n                response.data = _context.sent;\n                return _context.abrupt(\"return\", response);\n\n              case 18:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this, [[5, 11]]);\n      }));\n\n      return function sendRequest(_x, _x2) {\n        return _sendRequest.apply(this, arguments);\n      };\n    }(),\n    getSuccessPayload: function getSuccessPayload(response) {\n      if (Array.isArray(response)) {\n        return response.map(prepareSuccessPayload);\n      }\n\n      return prepareSuccessPayload(response);\n    },\n    getErrorPayload: function getErrorPayload(error) {\n      return error;\n    }\n  };\n};"]},"metadata":{},"sourceType":"module"}