{"ast":null,"code":"import produce from 'immer';\nimport { createSelector } from 'reselect';\nimport actionTypes from '../../../actions/types';\n\nconst reducer = (state = {}, action) => {\n  const {\n    type,\n    wrNo,\n    value,\n    message\n  } = action;\n  return produce(state, draft => {\n    var _draft$resource, _draft$resource$wrNo, _draft$resource$wrNo$, _draft$resource2, _draft$resource3, _draft$resource3$wrNo, _draft$resource4, _draft$resource4$wrNo, _draft$resource5, _draft$resource5$wrNo, _draft$resource6, _draft$resource6$wrNo, _draft$resource7, _draft$resource8, _draft$resource8$wrNo, _draft$resource9, _draft$resource9$wrNo, _draft$resource10, _draft$resource10$wrN, _draft$resource10$wrN2, _draft$resource11, _draft$resource11$wrN, _draft$resource11$wrN2, _draft$resource12, _draft$resource12$wrN;\n\n    switch (type) {\n      case actionTypes.WORK_REQUEST_V2.RESOURCE.REQUEST:\n        if (!draft.resource) {\n          draft.resource = {};\n        }\n\n        if (!draft.resource[wrNo]) {\n          draft.resource[wrNo] = {};\n          draft.resource[wrNo].status = 'requested';\n        }\n\n        if (draft === null || draft === void 0 ? void 0 : (_draft$resource = draft.resource) === null || _draft$resource === void 0 ? void 0 : (_draft$resource$wrNo = _draft$resource[wrNo]) === null || _draft$resource$wrNo === void 0 ? void 0 : (_draft$resource$wrNo$ = _draft$resource$wrNo.actions) === null || _draft$resource$wrNo$ === void 0 ? void 0 : _draft$resource$wrNo$.errMessage) {\n          delete draft.resource[wrNo].actions.errMessage;\n        }\n\n        break;\n\n      case actionTypes.WORK_REQUEST_V2.RESOURCE.REQUEST_FAILED:\n        if (draft === null || draft === void 0 ? void 0 : (_draft$resource2 = draft.resource) === null || _draft$resource2 === void 0 ? void 0 : _draft$resource2[wrNo]) {\n          draft.resource[wrNo].status = 'failed';\n        }\n\n        break;\n\n      case actionTypes.WORK_REQUEST_V2.RESOURCE.RECEIVED:\n        if (!draft.resource) {\n          draft.resource = {};\n        }\n\n        if (!draft.resource[wrNo]) {\n          draft.resource[wrNo] = {};\n        }\n\n        draft.resource[wrNo].status = 'received';\n        draft.resource[wrNo].value = value;\n        break;\n\n      case actionTypes.WORK_REQUEST_V2.RESOURCE.WORK_ORDER.REQUEST:\n        if (!draft.resource) {\n          draft.resource = {};\n        }\n\n        if (!draft.resource[wrNo]) {\n          draft.resource[wrNo] = {};\n        }\n\n        if (!draft.resource[wrNo].workOrder) {\n          draft.resource[wrNo].workOrder = {};\n        }\n\n        draft.resource[wrNo].workOrder.assignStatus = '';\n        draft.resource[wrNo].workOrder.status = 'requested';\n        break;\n\n      case actionTypes.WORK_REQUEST_V2.RESOURCE.WORK_ORDER.REQUEST_FAILED:\n        if (draft === null || draft === void 0 ? void 0 : (_draft$resource3 = draft.resource) === null || _draft$resource3 === void 0 ? void 0 : (_draft$resource3$wrNo = _draft$resource3[wrNo]) === null || _draft$resource3$wrNo === void 0 ? void 0 : _draft$resource3$wrNo.workOrder) {\n          draft.resource[wrNo].workOrder.status = 'failed';\n        }\n\n        break;\n\n      case actionTypes.WORK_REQUEST_V2.RESOURCE.WORK_ORDER.RECEIVED:\n        if (draft === null || draft === void 0 ? void 0 : (_draft$resource4 = draft.resource) === null || _draft$resource4 === void 0 ? void 0 : (_draft$resource4$wrNo = _draft$resource4[wrNo]) === null || _draft$resource4$wrNo === void 0 ? void 0 : _draft$resource4$wrNo.workOrder) {\n          draft.resource[wrNo].workOrder.status = 'received';\n          draft.resource[wrNo].workOrder.value = value;\n        }\n\n        break;\n\n      case actionTypes.WORK_REQUEST_V2.RESOURCE.WORK_ORDER.ASSIGN:\n        if (draft === null || draft === void 0 ? void 0 : (_draft$resource5 = draft.resource) === null || _draft$resource5 === void 0 ? void 0 : (_draft$resource5$wrNo = _draft$resource5[wrNo]) === null || _draft$resource5$wrNo === void 0 ? void 0 : _draft$resource5$wrNo.workOrder) {\n          draft.resource[wrNo].workOrder.assignStatus = 'requested';\n        }\n\n        break;\n\n      case actionTypes.WORK_REQUEST_V2.RESOURCE.WORK_ORDER.ASSIGN_FAIL:\n        if (draft === null || draft === void 0 ? void 0 : (_draft$resource6 = draft.resource) === null || _draft$resource6 === void 0 ? void 0 : (_draft$resource6$wrNo = _draft$resource6[wrNo]) === null || _draft$resource6$wrNo === void 0 ? void 0 : _draft$resource6$wrNo.workOrder) {\n          draft.resource[wrNo].workOrder.assignStatus = 'failed';\n        }\n\n        break;\n\n      case actionTypes.WORK_REQUEST_V2.RESOURCE.REQUEST_ACTION:\n        if (!(draft === null || draft === void 0 ? void 0 : (_draft$resource7 = draft.resource) === null || _draft$resource7 === void 0 ? void 0 : _draft$resource7[wrNo])) {\n          draft.resource[wrNo] = {};\n        }\n\n        if (!(draft === null || draft === void 0 ? void 0 : (_draft$resource8 = draft.resource) === null || _draft$resource8 === void 0 ? void 0 : (_draft$resource8$wrNo = _draft$resource8[wrNo]) === null || _draft$resource8$wrNo === void 0 ? void 0 : _draft$resource8$wrNo.actions)) {\n          draft.resource[wrNo].actions = {};\n        }\n\n        draft.resource[wrNo].actions.status = 'requested';\n        break;\n\n      case actionTypes.WORK_REQUEST_V2.RESOURCE.RECEIVED_ACTION:\n        if (draft === null || draft === void 0 ? void 0 : (_draft$resource9 = draft.resource) === null || _draft$resource9 === void 0 ? void 0 : (_draft$resource9$wrNo = _draft$resource9[wrNo]) === null || _draft$resource9$wrNo === void 0 ? void 0 : _draft$resource9$wrNo.actions) {\n          draft.resource[wrNo].actions.status = 'received';\n          draft.resource[wrNo].actions.value = value;\n        }\n\n        break;\n\n      case actionTypes.WORK_REQUEST_V2.RESOURCE.CLEAR_MESSAGE:\n        if (draft === null || draft === void 0 ? void 0 : (_draft$resource10 = draft.resource) === null || _draft$resource10 === void 0 ? void 0 : (_draft$resource10$wrN = _draft$resource10[wrNo]) === null || _draft$resource10$wrN === void 0 ? void 0 : (_draft$resource10$wrN2 = _draft$resource10$wrN.actions) === null || _draft$resource10$wrN2 === void 0 ? void 0 : _draft$resource10$wrN2.errMessage) {\n          delete draft.resource[wrNo].actions.errMessage;\n        }\n\n        break;\n\n      case actionTypes.WORK_REQUEST_V2.RESOURCE.TRIGGER_ACTION:\n        if (draft === null || draft === void 0 ? void 0 : (_draft$resource11 = draft.resource) === null || _draft$resource11 === void 0 ? void 0 : (_draft$resource11$wrN = _draft$resource11[wrNo]) === null || _draft$resource11$wrN === void 0 ? void 0 : (_draft$resource11$wrN2 = _draft$resource11$wrN.actions) === null || _draft$resource11$wrN2 === void 0 ? void 0 : _draft$resource11$wrN2.errMessage) {\n          delete draft.resource[wrNo].actions.errMessage;\n        }\n\n        break;\n\n      case actionTypes.WORK_REQUEST_V2.RESOURCE.TRIGGER_ACTION_FAILED:\n        if (draft === null || draft === void 0 ? void 0 : (_draft$resource12 = draft.resource) === null || _draft$resource12 === void 0 ? void 0 : (_draft$resource12$wrN = _draft$resource12[wrNo]) === null || _draft$resource12$wrN === void 0 ? void 0 : _draft$resource12$wrN.actions) {\n          draft.resource[wrNo].actions.status = 'failed';\n          draft.resource[wrNo].actions.errMessage = message;\n        }\n\n        break;\n\n      default:\n    }\n  });\n};\n\nexport default reducer;\nconst emptyObj = {};\nconst emptySet = [];\nexport const selectors = {};\n\nselectors.workOrderResource = (state, wrNo) => {\n  var _state$resource;\n\n  return (state === null || state === void 0 ? void 0 : (_state$resource = state.resource) === null || _state$resource === void 0 ? void 0 : _state$resource[wrNo]) || emptyObj;\n};\n\nselectors.wrWorkOrder = (state, wrNo) => {\n  var _state$resource2, _state$resource2$wrNo;\n\n  return (state === null || state === void 0 ? void 0 : (_state$resource2 = state.resource) === null || _state$resource2 === void 0 ? void 0 : (_state$resource2$wrNo = _state$resource2[wrNo]) === null || _state$resource2$wrNo === void 0 ? void 0 : _state$resource2$wrNo.workOrder) || emptyObj;\n};\n\nselectors.workRequestActionErrorMsg = (state, wrNo) => {\n  var _state$resource3, _state$resource3$wrNo, _state$resource3$wrNo2;\n\n  return state === null || state === void 0 ? void 0 : (_state$resource3 = state.resource) === null || _state$resource3 === void 0 ? void 0 : (_state$resource3$wrNo = _state$resource3[wrNo]) === null || _state$resource3$wrNo === void 0 ? void 0 : (_state$resource3$wrNo2 = _state$resource3$wrNo.actions) === null || _state$resource3$wrNo2 === void 0 ? void 0 : _state$resource3$wrNo2.errMessage;\n};\n\nselectors.workRequestAvailActions = createSelector((state, wrNo) => {\n  var _state$resource4, _state$resource4$wrNo, _state$resource4$wrNo2;\n\n  return (state === null || state === void 0 ? void 0 : (_state$resource4 = state.resource) === null || _state$resource4 === void 0 ? void 0 : (_state$resource4$wrNo = _state$resource4[wrNo]) === null || _state$resource4$wrNo === void 0 ? void 0 : (_state$resource4$wrNo2 = _state$resource4$wrNo.actions) === null || _state$resource4$wrNo2 === void 0 ? void 0 : _state$resource4$wrNo2.value) || emptySet;\n}, actions => {\n  return actions.map(act => ({\n    id: act.AllowedActionCode,\n    label: act.AllowedActionDesc\n  }));\n});","map":{"version":3,"sources":["/Users/plsingh/Downloads/archive-19Sep-Sunday/src/reducers/workRequestV2/Resources/index.js"],"names":["produce","createSelector","actionTypes","reducer","state","action","type","wrNo","value","message","draft","WORK_REQUEST_V2","RESOURCE","REQUEST","resource","status","actions","errMessage","REQUEST_FAILED","RECEIVED","WORK_ORDER","workOrder","assignStatus","ASSIGN","ASSIGN_FAIL","REQUEST_ACTION","RECEIVED_ACTION","CLEAR_MESSAGE","TRIGGER_ACTION","TRIGGER_ACTION_FAILED","emptyObj","emptySet","selectors","workOrderResource","wrWorkOrder","workRequestActionErrorMsg","workRequestAvailActions","map","act","id","AllowedActionCode","label","AllowedActionDesc"],"mappings":"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","sourcesContent":["import produce from 'immer';\nimport { createSelector } from 'reselect';\nimport actionTypes from '../../../actions/types';\n\nconst reducer = (state = {}, action) => {\n  const { type, wrNo, value, message } = action;\n  return produce(state, draft => {\n    switch (type) {\n      case actionTypes.WORK_REQUEST_V2.RESOURCE.REQUEST:\n        if (!draft.resource) {\n          draft.resource = {};\n        }\n        if (!draft.resource[wrNo]) {\n          draft.resource[wrNo] = {}\n          draft.resource[wrNo].status = 'requested';\n        }\n        if (draft?.resource?.[wrNo]?.actions?.errMessage) {\n          delete draft.resource[wrNo].actions.errMessage;\n        }\n        break;\n      case actionTypes.WORK_REQUEST_V2.RESOURCE.REQUEST_FAILED:\n        if (draft?.resource?.[wrNo]) {\n          draft.resource[wrNo].status = 'failed';\n        }\n        break;\n      case actionTypes.WORK_REQUEST_V2.RESOURCE.RECEIVED:\n        if (!draft.resource) {\n          draft.resource = {};\n        }\n        if (!draft.resource[wrNo]) {\n          draft.resource[wrNo] = {}\n        }\n        draft.resource[wrNo].status = 'received';\n        draft.resource[wrNo].value = value;\n        break;\n\n      case actionTypes.WORK_REQUEST_V2.RESOURCE.WORK_ORDER.REQUEST:\n        if (!draft.resource) {\n          draft.resource = {};\n        }\n        if (!draft.resource[wrNo]) {\n          draft.resource[wrNo] = {};\n\n        }\n        if (!draft.resource[wrNo].workOrder) {\n          draft.resource[wrNo].workOrder = {};\n        }\n        draft.resource[wrNo].workOrder.assignStatus = ''\n        draft.resource[wrNo].workOrder.status = 'requested'\n        break;\n      case actionTypes.WORK_REQUEST_V2.RESOURCE.WORK_ORDER.REQUEST_FAILED:\n        if (draft?.resource?.[wrNo]?.workOrder) {\n          draft.resource[wrNo].workOrder.status = 'failed';\n        }\n        break;\n      case actionTypes.WORK_REQUEST_V2.RESOURCE.WORK_ORDER.RECEIVED:\n        if (draft?.resource?.[wrNo]?.workOrder) {\n          draft.resource[wrNo].workOrder.status = 'received';\n          draft.resource[wrNo].workOrder.value = value;\n        }\n        break;\n      case actionTypes.WORK_REQUEST_V2.RESOURCE.WORK_ORDER.ASSIGN:\n        if (draft?.resource?.[wrNo]?.workOrder) {\n          draft.resource[wrNo].workOrder.assignStatus = 'requested';\n        }\n        break;\n      case actionTypes.WORK_REQUEST_V2.RESOURCE.WORK_ORDER.ASSIGN_FAIL:\n        if (draft?.resource?.[wrNo]?.workOrder) {\n          draft.resource[wrNo].workOrder.assignStatus = 'failed';\n        }\n        break;\n\n      case actionTypes.WORK_REQUEST_V2.RESOURCE.REQUEST_ACTION:\n        if (!draft?.resource?.[wrNo]) {\n          draft.resource[wrNo] = {};\n        }\n        if (!draft?.resource?.[wrNo]?.actions) {\n          draft.resource[wrNo].actions = {};\n        }\n        draft.resource[wrNo].actions.status = 'requested';\n        break;\n      case actionTypes.WORK_REQUEST_V2.RESOURCE.RECEIVED_ACTION:\n        if (draft?.resource?.[wrNo]?.actions) {\n          draft.resource[wrNo].actions.status = 'received';\n          draft.resource[wrNo].actions.value = value;\n        }\n        break;\n      case actionTypes.WORK_REQUEST_V2.RESOURCE.CLEAR_MESSAGE:\n        if (draft?.resource?.[wrNo]?.actions?.errMessage) {\n          delete draft.resource[wrNo].actions.errMessage;\n        }\n        break;\n      case actionTypes.WORK_REQUEST_V2.RESOURCE.TRIGGER_ACTION:\n        if (draft?.resource?.[wrNo]?.actions?.errMessage) {\n          delete draft.resource[wrNo].actions.errMessage;\n        }\n        break;\n      case actionTypes.WORK_REQUEST_V2.RESOURCE.TRIGGER_ACTION_FAILED:\n        if (draft?.resource?.[wrNo]?.actions) {\n          draft.resource[wrNo].actions.status = 'failed';\n          draft.resource[wrNo].actions.errMessage = message;\n        }\n        break;\n\n      default:\n    }\n  })\n}\n\nexport default reducer;\nconst emptyObj = {};\nconst emptySet = [];\nexport const selectors = {};\n\nselectors.workOrderResource = (state, wrNo) => {\n  return state?.resource?.[wrNo] || emptyObj;\n}\n\nselectors.wrWorkOrder = (state, wrNo) => {\n  return state?.resource?.[wrNo]?.workOrder || emptyObj;\n}\n\nselectors.workRequestActionErrorMsg = (state, wrNo) => {\n  return state?.resource?.[wrNo]?.actions?.errMessage;\n}\nselectors.workRequestAvailActions = createSelector(\n  (state, wrNo) => state?.resource?.[wrNo]?.actions?.value || emptySet,\n  (actions) => {\n    return actions.map(act => ({ id: act.AllowedActionCode, label: act.AllowedActionDesc }))\n  }\n);\n"]},"metadata":{},"sourceType":"module"}