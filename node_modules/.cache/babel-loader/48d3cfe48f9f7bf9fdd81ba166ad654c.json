{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nvar _utils = require('./utils.js');\n\nvar utils = _interopRequireWildcard(_utils);\n\nvar _cookie = require('./browserLookups/cookie.js');\n\nvar _cookie2 = _interopRequireDefault(_cookie);\n\nvar _querystring = require('./browserLookups/querystring.js');\n\nvar _querystring2 = _interopRequireDefault(_querystring);\n\nvar _localStorage = require('./browserLookups/localStorage.js');\n\nvar _localStorage2 = _interopRequireDefault(_localStorage);\n\nvar _navigator = require('./browserLookups/navigator.js');\n\nvar _navigator2 = _interopRequireDefault(_navigator);\n\nvar _htmlTag = require('./browserLookups/htmlTag.js');\n\nvar _htmlTag2 = _interopRequireDefault(_htmlTag);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _interopRequireWildcard(obj) {\n  if (obj && obj.__esModule) {\n    return obj;\n  } else {\n    var newObj = {};\n\n    if (obj != null) {\n      for (var key in obj) {\n        if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key];\n      }\n    }\n\n    newObj.default = obj;\n    return newObj;\n  }\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction getDefaults() {\n  return {\n    order: ['querystring', 'cookie', 'localStorage', 'navigator', 'htmlTag'],\n    lookupQuerystring: 'lng',\n    lookupCookie: 'i18next',\n    lookupLocalStorage: 'i18nextLng',\n    // cache user language\n    caches: ['localStorage'],\n    excludeCacheFor: ['cimode'] //cookieMinutes: 10,\n    //cookieDomain: 'myDomain'\n\n  };\n}\n\nvar Browser = function () {\n  function Browser(services) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    _classCallCheck(this, Browser);\n\n    this.type = 'languageDetector';\n    this.detectors = {};\n    this.init(services, options);\n  }\n\n  _createClass(Browser, [{\n    key: 'init',\n    value: function init(services) {\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      var i18nOptions = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n      this.services = services;\n      this.options = utils.defaults(options, this.options || {}, getDefaults());\n      this.i18nOptions = i18nOptions;\n      this.addDetector(_cookie2.default);\n      this.addDetector(_querystring2.default);\n      this.addDetector(_localStorage2.default);\n      this.addDetector(_navigator2.default);\n      this.addDetector(_htmlTag2.default);\n    }\n  }, {\n    key: 'addDetector',\n    value: function addDetector(detector) {\n      this.detectors[detector.name] = detector;\n    }\n  }, {\n    key: 'detect',\n    value: function detect(detectionOrder) {\n      var _this = this;\n\n      if (!detectionOrder) detectionOrder = this.options.order;\n      var detected = [];\n      detectionOrder.forEach(function (detectorName) {\n        if (_this.detectors[detectorName]) {\n          var lookup = _this.detectors[detectorName].lookup(_this.options);\n\n          if (lookup && typeof lookup === 'string') lookup = [lookup];\n          if (lookup) detected = detected.concat(lookup);\n        }\n      });\n      var found = void 0;\n      detected.forEach(function (lng) {\n        if (found) return;\n\n        var cleanedLng = _this.services.languageUtils.formatLanguageCode(lng);\n\n        if (_this.services.languageUtils.isWhitelisted(cleanedLng)) found = cleanedLng;\n      });\n      return found || this.i18nOptions.fallbackLng[0];\n    }\n  }, {\n    key: 'cacheUserLanguage',\n    value: function cacheUserLanguage(lng, caches) {\n      var _this2 = this;\n\n      if (!caches) caches = this.options.caches;\n      if (!caches) return;\n      if (this.options.excludeCacheFor && this.options.excludeCacheFor.indexOf(lng) > -1) return;\n      caches.forEach(function (cacheName) {\n        if (_this2.detectors[cacheName]) _this2.detectors[cacheName].cacheUserLanguage(lng, _this2.options);\n      });\n    }\n  }]);\n\n  return Browser;\n}();\n\nBrowser.type = 'languageDetector';\nexports.default = Browser;","map":{"version":3,"sources":["/Users/plsingh/Downloads/archive-19Sep-Sunday/node_modules/i18next-browser-languagedetector/dist/commonjs/index.js"],"names":["Object","defineProperty","exports","value","_createClass","defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","key","Constructor","protoProps","staticProps","prototype","_utils","require","utils","_interopRequireWildcard","_cookie","_cookie2","_interopRequireDefault","_querystring","_querystring2","_localStorage","_localStorage2","_navigator","_navigator2","_htmlTag","_htmlTag2","obj","__esModule","default","newObj","hasOwnProperty","call","_classCallCheck","instance","TypeError","getDefaults","order","lookupQuerystring","lookupCookie","lookupLocalStorage","caches","excludeCacheFor","Browser","services","options","arguments","undefined","type","detectors","init","i18nOptions","defaults","addDetector","detector","name","detect","detectionOrder","_this","detected","forEach","detectorName","lookup","concat","found","lng","cleanedLng","languageUtils","formatLanguageCode","isWhitelisted","fallbackLng","cacheUserLanguage","_this2","indexOf","cacheName"],"mappings":"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","sourcesContent":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _utils = require('./utils.js');\n\nvar utils = _interopRequireWildcard(_utils);\n\nvar _cookie = require('./browserLookups/cookie.js');\n\nvar _cookie2 = _interopRequireDefault(_cookie);\n\nvar _querystring = require('./browserLookups/querystring.js');\n\nvar _querystring2 = _interopRequireDefault(_querystring);\n\nvar _localStorage = require('./browserLookups/localStorage.js');\n\nvar _localStorage2 = _interopRequireDefault(_localStorage);\n\nvar _navigator = require('./browserLookups/navigator.js');\n\nvar _navigator2 = _interopRequireDefault(_navigator);\n\nvar _htmlTag = require('./browserLookups/htmlTag.js');\n\nvar _htmlTag2 = _interopRequireDefault(_htmlTag);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction getDefaults() {\n  return {\n    order: ['querystring', 'cookie', 'localStorage', 'navigator', 'htmlTag'],\n    lookupQuerystring: 'lng',\n    lookupCookie: 'i18next',\n    lookupLocalStorage: 'i18nextLng',\n\n    // cache user language\n    caches: ['localStorage'],\n    excludeCacheFor: ['cimode']\n    //cookieMinutes: 10,\n    //cookieDomain: 'myDomain'\n  };\n}\n\nvar Browser = function () {\n  function Browser(services) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    _classCallCheck(this, Browser);\n\n    this.type = 'languageDetector';\n    this.detectors = {};\n\n    this.init(services, options);\n  }\n\n  _createClass(Browser, [{\n    key: 'init',\n    value: function init(services) {\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      var i18nOptions = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n      this.services = services;\n      this.options = utils.defaults(options, this.options || {}, getDefaults());\n      this.i18nOptions = i18nOptions;\n\n      this.addDetector(_cookie2.default);\n      this.addDetector(_querystring2.default);\n      this.addDetector(_localStorage2.default);\n      this.addDetector(_navigator2.default);\n      this.addDetector(_htmlTag2.default);\n    }\n  }, {\n    key: 'addDetector',\n    value: function addDetector(detector) {\n      this.detectors[detector.name] = detector;\n    }\n  }, {\n    key: 'detect',\n    value: function detect(detectionOrder) {\n      var _this = this;\n\n      if (!detectionOrder) detectionOrder = this.options.order;\n\n      var detected = [];\n      detectionOrder.forEach(function (detectorName) {\n        if (_this.detectors[detectorName]) {\n          var lookup = _this.detectors[detectorName].lookup(_this.options);\n          if (lookup && typeof lookup === 'string') lookup = [lookup];\n          if (lookup) detected = detected.concat(lookup);\n        }\n      });\n\n      var found = void 0;\n      detected.forEach(function (lng) {\n        if (found) return;\n        var cleanedLng = _this.services.languageUtils.formatLanguageCode(lng);\n        if (_this.services.languageUtils.isWhitelisted(cleanedLng)) found = cleanedLng;\n      });\n\n      return found || this.i18nOptions.fallbackLng[0];\n    }\n  }, {\n    key: 'cacheUserLanguage',\n    value: function cacheUserLanguage(lng, caches) {\n      var _this2 = this;\n\n      if (!caches) caches = this.options.caches;\n      if (!caches) return;\n      if (this.options.excludeCacheFor && this.options.excludeCacheFor.indexOf(lng) > -1) return;\n      caches.forEach(function (cacheName) {\n        if (_this2.detectors[cacheName]) _this2.detectors[cacheName].cacheUserLanguage(lng, _this2.options);\n      });\n    }\n  }]);\n\n  return Browser;\n}();\n\nBrowser.type = 'languageDetector';\n\nexports.default = Browser;"]},"metadata":{},"sourceType":"script"}