{"ast":null,"code":"var _jsxFileName = \"/Users/plsingh/Downloads/archive-19Sep-Sunday/src/components/DocumentThumbnail/index.jsx\",\n    _s = $RefreshSig$();\n\nimport { Typography } from \"@material-ui/core\";\nimport { makeStyles } from \"@material-ui/styles\";\nimport { useEffect, useMemo } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport actions from \"../../actions\";\nimport PDFImage from \"../../assets/img/pdf.png\";\nimport { selectors } from \"../../reducers\";\nimport Spinner from \"../Spinner\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst useStyles = makeStyles({\n  fieldsetWrapper: {\n    \"& .x-button.x-has-text .x-inner-el\": {\n      padding: \"3px 12px\"\n    },\n    \"& .x-button.x-has-text .x-text-el\": {\n      color: \"#ffffff\",\n      textTransform: \"capitalize\"\n    }\n  },\n  thumbnailImg: {\n    borderRadius: \"4px\",\n    width: 140,\n    height: 140\n  },\n  spinnerWrapper: {\n    width: 140,\n    height: 140,\n    border: '1px solid #7d7d7d33',\n    display: 'flex',\n    '& > span': {\n      margin: 'auto'\n    }\n  },\n  fieldsetContainer: {\n    width: \"100%\",\n    height: \"65px\",\n    border: \"1px solid #E9EBEF\",\n    color: \"#979DAC\",\n    display: \"inline-block\",\n    borderRadius: \"4px\",\n    fontSize: \"12px\",\n    \"& .x-textfield .x-underline-el\": {\n      height: \"0px\"\n    },\n    \"& .x-textfield.x-invalid .x-underline-el:after\": {\n      height: \"0px\"\n    },\n    \"& .x-body-wrap-el .x-trigger .x-icon-el:before\": {\n      fontSize: \"22px\"\n    },\n    \"& .x-textfield .x-input-el\": {\n      padding: \"4px 0px 0px 4px\"\n    },\n    \"&.date-picker .x-textfield .x-input-el\": {\n      padding: \"6px 0px 8px 4px\"\n    },\n    \"& .x-textfield .x-body-wrap-el\": {\n      width: \"150px\"\n    }\n  },\n  fieldName: {\n    fontSize: \"12px\",\n    color: \"#979DAC\"\n  },\n  fieldValue: {\n    fontSize: \"13px\"\n  },\n  marginLeft: {\n    marginLeft: 10\n  },\n  subText: {\n    display: \"flex\",\n    justifyContent: \"space-between\",\n    fontSize: 13,\n    color: \"#979DAC\",\n    paddingRight: 12\n  },\n  subTextName: {\n    color: \"rgba(0, 0, 0, 0.87)\",\n    fontSize: 13,\n    '& >span': {\n      fontSize: 18\n    }\n  }\n});\nexport default function DocumentThumbnail(props) {\n  _s();\n\n  const dispatch = useDispatch();\n  const classes = useStyles();\n  const {\n    showDelete = true,\n    filesMainRef = \"\",\n    filesIndividualRef,\n    relativePath\n  } = props;\n  const imgObj = useSelector(state => {\n    return selectors.assets(state, {\n      fileId: filesIndividualRef,\n      relativePath: relativePath\n    });\n  });\n  const byte64Url = useMemo(() => {\n    if ((filesMainRef === null || filesMainRef === void 0 ? void 0 : filesMainRef.indexOf('.png')) !== -1 || filesMainRef.indexOf('.jpeg') !== -1) {\n      if (imgObj === null || imgObj === void 0 ? void 0 : imgObj.byteArr) {\n        var binary = '';\n        var bytes = new Uint8Array(imgObj.byteArr);\n        var len = bytes.byteLength;\n\n        for (var i = 0; i < len; i++) {\n          binary += String.fromCharCode(bytes[i]);\n        }\n\n        var payloadData = 'data:image/jpeg;base64,' + window.btoa(binary);\n        return payloadData;\n      }\n    } else if ((filesMainRef === null || filesMainRef === void 0 ? void 0 : filesMainRef.indexOf('.pdf')) !== -1) {\n      return PDFImage;\n    }\n  }, [filesMainRef, imgObj.byteArr]);\n  const isDeleteVisible = showDelete && byte64Url;\n  useEffect(() => {\n    if (imgObj && !('status' in imgObj)) {\n      dispatch(actions.assets.request({\n        fileId: filesIndividualRef,\n        relativePath\n      }));\n    }\n  }, [dispatch, filesIndividualRef, imgObj, relativePath]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: classes.fieldsetWrapper,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: byte64Url ? /*#__PURE__*/_jsxDEV(\"img\", {\n          className: classes.thumbnailImg,\n          src: byte64Url,\n          alt: \"\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: classes.spinnerWrapper,\n          children: /*#__PURE__*/_jsxDEV(Spinner, {\n            type: \"beat\",\n            speed: 0.5,\n            className: classes.spinner,\n            size: 25\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 137,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 9\n      }, this), isDeleteVisible ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: classes.subText,\n        children: [/*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"h6\",\n          className: classes.subTextName,\n          children: filesMainRef\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: /*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"fa fa-trash\",\n            \"aria-hidden\": \"true\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 148,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 147,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 11\n      }, this) : null]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n}\n\n_s(DocumentThumbnail, \"o8enVkOdn2z2zoHQsKRJNf36rrA=\", false, function () {\n  return [useDispatch, useStyles, useSelector];\n});\n\n_c = DocumentThumbnail;\n\nvar _c;\n\n$RefreshReg$(_c, \"DocumentThumbnail\");","map":{"version":3,"sources":["/Users/plsingh/Downloads/archive-19Sep-Sunday/src/components/DocumentThumbnail/index.jsx"],"names":["Typography","makeStyles","useEffect","useMemo","useDispatch","useSelector","actions","PDFImage","selectors","Spinner","useStyles","fieldsetWrapper","padding","color","textTransform","thumbnailImg","borderRadius","width","height","spinnerWrapper","border","display","margin","fieldsetContainer","fontSize","fieldName","fieldValue","marginLeft","subText","justifyContent","paddingRight","subTextName","DocumentThumbnail","props","dispatch","classes","showDelete","filesMainRef","filesIndividualRef","relativePath","imgObj","state","assets","fileId","byte64Url","indexOf","byteArr","binary","bytes","Uint8Array","len","byteLength","i","String","fromCharCode","payloadData","window","btoa","isDeleteVisible","request","spinner"],"mappings":"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","sourcesContent":["import { Typography } from \"@material-ui/core\";\nimport { makeStyles } from \"@material-ui/styles\";\nimport { useEffect, useMemo } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport actions from \"../../actions\";\nimport PDFImage from \"../../assets/img/pdf.png\"\nimport { selectors } from \"../../reducers\";\nimport Spinner from \"../Spinner\";\n\nconst useStyles = makeStyles({\n  fieldsetWrapper: {\n    \"& .x-button.x-has-text .x-inner-el\": {\n      padding: \"3px 12px\",\n    },\n    \"& .x-button.x-has-text .x-text-el\": {\n      color: \"#ffffff\",\n      textTransform: \"capitalize\",\n    },\n  },\n  thumbnailImg: {\n    borderRadius: \"4px\",\n    width: 140,\n    height: 140,\n  },\n  spinnerWrapper: {\n    width: 140,\n    height: 140,\n    border: '1px solid #7d7d7d33',\n    display:'flex',\n    '& > span': {\n      margin: 'auto',\n    }\n  },\n  fieldsetContainer: {\n    width: \"100%\",\n    height: \"65px\",\n    border: \"1px solid #E9EBEF\",\n    color: \"#979DAC\",\n    display: \"inline-block\",\n    borderRadius: \"4px\",\n    fontSize: \"12px\",\n    \"& .x-textfield .x-underline-el\": {\n      height: \"0px\",\n    },\n    \"& .x-textfield.x-invalid .x-underline-el:after\": {\n      height: \"0px\",\n    },\n    \"& .x-body-wrap-el .x-trigger .x-icon-el:before\": {\n      fontSize: \"22px\",\n    },\n    \"& .x-textfield .x-input-el\": {\n      padding: \"4px 0px 0px 4px\",\n    },\n    \"&.date-picker .x-textfield .x-input-el\": {\n      padding: \"6px 0px 8px 4px\",\n    },\n    \"& .x-textfield .x-body-wrap-el\": {\n      width: \"150px\",\n    },\n  },\n  fieldName: {\n    fontSize: \"12px\",\n    color: \"#979DAC\",\n  },\n  fieldValue: {\n    fontSize: \"13px\",\n  },\n\n  marginLeft: {\n    marginLeft: 10,\n  },\n  subText: {\n    display: \"flex\",\n    justifyContent: \"space-between\",\n    fontSize: 13,\n    color: \"#979DAC\",\n    paddingRight: 12,\n  },\n  subTextName: {\n    color: \"rgba(0, 0, 0, 0.87)\",\n    fontSize: 13,\n    '& >span':{\n      fontSize: 18,\n    }\n  },\n});\nexport default function DocumentThumbnail(props) {\n  const dispatch = useDispatch();\n  const classes = useStyles();\n  const { showDelete = true, filesMainRef = \"\", filesIndividualRef, relativePath } = props;\n\n  const imgObj = useSelector(state => {\n    return selectors.assets(state, {\n      fileId: filesIndividualRef,\n      relativePath: relativePath\n    })\n  })\n\n  const byte64Url = useMemo(() => {\n    if (filesMainRef?.indexOf('.png') !== -1 || filesMainRef.indexOf('.jpeg') !== -1) {\n      if (imgObj?.byteArr) {\n        var binary = '';\n        var bytes = new Uint8Array(imgObj.byteArr);\n        var len = bytes.byteLength;\n        for (var i = 0; i < len; i++) {\n          binary += String.fromCharCode(bytes[i]);\n        }\n        var payloadData = 'data:image/jpeg;base64,' + window.btoa(binary);\n        return payloadData;\n      }\n    }\n    else if (filesMainRef?.indexOf('.pdf') !== -1) {\n      return PDFImage;\n    }\n  }, [filesMainRef, imgObj.byteArr])\n\n  const isDeleteVisible = showDelete && byte64Url;\n  useEffect(() => {\n    if (imgObj && !('status' in imgObj)) {\n      dispatch(actions.assets.request({ fileId: filesIndividualRef, relativePath }))\n    }\n  }, [dispatch, filesIndividualRef, imgObj, relativePath])\n\n\n  return (\n    <>\n      <div className={classes.fieldsetWrapper}>\n        <div>\n          {byte64Url ?\n            <img\n              className={classes.thumbnailImg}\n              src={byte64Url}\n              alt=''\n            />\n            :\n            <div className={classes.spinnerWrapper}>\n                <Spinner type=\"beat\" speed={0.5} className={classes.spinner} size={25} />\n            </div>\n          }\n\n        </div>\n        {isDeleteVisible ? (\n          <div className={classes.subText}>\n            <Typography variant=\"h6\" className={classes.subTextName}>\n              {filesMainRef}\n            </Typography>\n            <span>\n              <i className='fa fa-trash' aria-hidden='true'></i>\n            </span>\n          </div>\n        ) : null}\n\n      </div>\n    </>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}